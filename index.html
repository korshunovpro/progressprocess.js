<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Progress Step By Step</title>
    <script src="src/progressprocess.js"></script>
    <style>
        body {
            text-align: center;
        }
        #progress {
            height:50px;
        }
    </style>
</head>
<body>

<div id="progress">
    <b id="percent"></b>
    <span id="step"></span>
</div>
<button onclick="progressRun()">Run</button>

<script>
    function progressRun() {
        var FakeProgress = new ProgressProcess();
        var stepStart = 1,
            stepCount = 5;

        FakeProgress.run(stepStart, stepCount,
            function() {

                // fake ajax call
                setTimeout(function(){
                    FakeProgress.runNext();
                }, 1500)

            },
            function (percent, stepCurrent, stepCount) {
                var elemPercent = document.getElementById('percent');
                var elemStep = document.getElementById('step');
                elemPercent.innerHTML = percent + '%';
                elemStep.innerHTML = '( Step ' + stepCurrent + ' of ' + stepCount + ': complete)';
            }
        );
    }
</script>
</body>
</html>