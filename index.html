<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Progress Step By Step</title>
    <script src="src/progressprocess.js"></script>
    <style>
        body {
            text-align: center;
        }

        #progress, #progress-jquery {
            height: 50px;
        }
    </style>
</head>
<body>

<div id="progress">
    <b id="percent"></b>
    <span id="step"></span>
</div>
<button onclick="progressRun(580)">Start</button>
<button onclick="progressPause()">Pause</button>
<button onclick="progressContinue()">Continue</button>

<script>

    var progressExample = new ProgressProcess();

    function progressRun(stepCount, stepCurrent) {
        stepCurrent = (stepCurrent || 1);
        progressExample.start({
            stepCurrent: stepCurrent,
            stepCount: stepCount,
            callback: function (progress) {

                // fake ajax call
                setTimeout(function () {
                    // success and run next step
                    var result = logic(stepCurrent);
                    if (result) {
                        progress.next();
                    }
                }, 100);

            },
            showCallback: function (percent, stepCurrent, stepCount) {
                var elemPercent = document.getElementById('percent');
                var elemStep = document.getElementById('step');
                elemPercent.innerHTML = percent + '%';
                elemStep.innerHTML = '( Step ' + stepCurrent + ' of ' + stepCount + ': complete)';
            }
        });
    }

    function progressPause() {
        progressExample.pause();
    }

    function progressContinue() {
        progressExample.run();
    }

</script>

<hr>

<script>
    function logic(stepCurrent) {
        return !!stepCurrent;
    }
</script>


</body>
</html>